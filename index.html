<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="stylesheet.css">
    <title>Hello, world!</title>
  </head>
  <body class="bg-warning">
    <div class="row container pt-4">
        <label class="col-1">Name:</label>
        <input class="col-6" type="text" id="nameField">
        <button class="col-2 mx-2 btn btn-primary" id="my-btn">
            Submit
        </button>
    </div>

    <canvas id="viewport" class="my-5 mx-3"></canvas>
    <!-- <img src="tsst.jpg" alt="" id="hi"> -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script>
       
            const canvas = document.getElementById("viewport");
            const nameField = document.querySelector("#nameField");
            const submitBtn = document.querySelector("#my-btn");

            image = new Image();
            image.src = 'kuksal.png';

            image.onload = function(e){
                updateCanvas(canvas, image, nameField.value);
            }

            submitBtn.onclick = function(e){
                    updateCanvas(canvas, image, nameField.value);
                }
       

       function getCenterposition(str,ctx){
            let width =   ctx.measureText(str).width;
            let centerpos= (1080-width)/2;
            return centerpos+width;
        }

        function updateCanvas(canvas, image, text){
            const ctx = canvas.getContext("2d");
            const width = image.width;
            const height = image.height;
            const fontSize = Math.floor(width/10);
            const yOffset = height/25;

            //Set canvas dimensions
            canvas.width = width;
            canvas.height = height;

            //place the image
            ctx.drawImage(image, 0, 0);

            // Prepare text
            ctx.strokeStyle = "black";
            ctx.lineWidth = Math.floor(fontSize / 4);
            ctx.fillStyle = "white";
            ctx.textAlign = "center";
            ctx.lineJoin = "round";
            ctx.font = `${fontSize}px sans-serif`;

            // Add top text
            ctx.textBaseline = "bottom";
            ctx.strokeText(text, width / 2, height - yOffset);
            ctx.fillText(text, width / 2, height - yOffset);


        }
    </script>
  </body>
</html>